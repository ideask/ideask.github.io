<!DOCTYPE html><html lang="zh_CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>BeagleBoneBlack开发环境 | 妙妙屋</title><script src="https://cdn.bootcss.com/valine/1.4.4/Valine.min.js"></script><script src="https://cdn.bootcdn.net/ajax/libs/mermaid/8.11.0/mermaid.min.js"></script><script>mermaid.initialize({
  startOnLoad: true
  , theme: 'dark'
});</script><link rel="stylesheet" href="/css/arknights.css"><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/highlight.js/10.1.2/styles/atom-one-dark-reasonable.min.css"><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}</style><meta name="generator" content="Hexo 5.4.0"></head><body><header><nav><a href="/">主页</a><a href="/archives/">文章</a><a href="/about/">关于</a><a href="/contact/">联系</a></nav></header><main><article><div id="post-bg"><div id="post-title"><h1>BeagleBoneBlack开发环境</h1><hr></div><div id="post-content"><h1 id="Getting-started-with-the-Beaglebone-Black"><a href="#Getting-started-with-the-Beaglebone-Black" class="headerlink" title="Getting started with the Beaglebone Black"></a>Getting started with the Beaglebone Black</h1><p>This is a page about TI’s Cortex-A8 based; BeagleBone Black.</p>
<h2 id="Basic-Requirements"><a href="#Basic-Requirements" class="headerlink" title="Basic Requirements"></a>Basic Requirements</h2><p>Running a recent supported release of Debian, Fedora or Ubuntu on a x86 64bit based PC; without OS Virtualization Software.<br>Many of the listed commands assume /bin/bash as the default shell.</p>
<p>ARM Cross Compiler – Linaro: <a target="_blank" rel="noopener" href="https://www.linaro.org/">https://www.linaro.org</a> 29<br>Linaro Toolchain Binaries: <a target="_blank" rel="noopener" href="https://www.linaro.org/downloads/">https://www.linaro.org/downloads/</a> 50</p>
<p>Bootloader<br>Das U-Boot – the Universal Boot Loader: <a target="_blank" rel="noopener" href="http://www.denx.de/wiki/U-Boot">http://www.denx.de/wiki/U-Boot</a> 30<br>Source: <a target="_blank" rel="noopener" href="https://github.com/u-boot/u-boot/">https://github.com/u-boot/u-boot/</a> 14</p>
<p>Linux Kernel<br>Linus’s Mainline tree: <a target="_blank" rel="noopener" href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git">https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git</a> 15<br>ARM based rootfs<br>Debian: <a target="_blank" rel="noopener" href="https://www.debian.org/">https://www.debian.org</a><br>Ubuntu: <a target="_blank" rel="noopener" href="https://www.ubuntu.com/">https://www.ubuntu.com</a> </p>
<h2 id="ARM-Cross-Compiler-GCC"><a href="#ARM-Cross-Compiler-GCC" class="headerlink" title="ARM Cross Compiler:GCC"></a>ARM Cross Compiler:GCC</h2><p>This is a pre-built (64bit) version of GCC that runs on generic linux, sorry (32bit) x86 users, it’s time to upgrade…<br>Download/Extract:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#user@localhost:~$</span><br>wget -c https://releases.linaro.org/components/toolchain/binaries/6.5-2018.12/arm-linux-gnueabihf/gcc-linaro-6.5.0-2018.12-x86_64_arm-linux-gnueabihf.tar.xz<br>tar xf gcc-linaro-6.5.0-2018.12-x86_64_arm-linux-gnueabihf.tar.xz<br><span class="hljs-built_in">export</span> CC=`<span class="hljs-built_in">pwd</span>`/gcc-linaro-6.5.0-2018.12-x86_64_arm-linux-gnueabihf/bin/arm-linux-gnueabihf-<br></code></pre></td></tr></table></figure>

<h3 id="Test-Cross-Compiler"><a href="#Test-Cross-Compiler" class="headerlink" title="Test Cross Compiler:"></a>Test Cross Compiler:</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#user@localhost:~$</span><br><span class="hljs-variable">$&#123;CC&#125;</span>gcc --version<br></code></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#Test Output:</span><br>arm-linux-gnueabihf-gcc (Linaro GCC 6.5-2018.12) 6.5.0<br>Copyright (C) 2017 Free Software Foundation, Inc.<br>This is free software; see the <span class="hljs-built_in">source</span> <span class="hljs-keyword">for</span> copying conditions.  There is NO<br>warranty; not even <span class="hljs-keyword">for</span> MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.<br><br></code></pre></td></tr></table></figure>
<h2 id="Bootloader-U-Boot"><a href="#Bootloader-U-Boot" class="headerlink" title="Bootloader:U-Boot"></a>Bootloader:U-Boot</h2><p>Das U-Boot – the Universal Boot Loader: <a target="_blank" rel="noopener" href="http://www.denx.de/wiki/U-Boot">http://www.denx.de/wiki/U-Boot</a> 30<br>Depending on your Linux Distrubution, you will also need a host gcc and other tools, so with Debian/Ubuntu start with installing the build-essential meta package.<br>Download:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#user@localhost:~$</span><br>git <span class="hljs-built_in">clone</span> -b v2019.04 https://github.com/u-boot/u-boot --depth=1<br><span class="hljs-built_in">cd</span> u-boot/<br></code></pre></td></tr></table></figure>

<p>Patches:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#user@localhost:~/u-boot$</span><br>git pull --no-edit https://github.com/beagleboard/u-boot v2019.04-bbb.io-am335x<br><br></code></pre></td></tr></table></figure>
<p>Configure and Build:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#user@localhost:~/u-boot$</span><br>make ARCH=arm CROSS_COMPILE=<span class="hljs-variable">$&#123;CC&#125;</span> distclean<br>make ARCH=arm CROSS_COMPILE=<span class="hljs-variable">$&#123;CC&#125;</span> am335x_evm_defconfig<br>make ARCH=arm CROSS_COMPILE=<span class="hljs-variable">$&#123;CC&#125;</span><br></code></pre></td></tr></table></figure>

<h2 id="Linux-Kernel"><a href="#Linux-Kernel" class="headerlink" title="Linux Kernel"></a>Linux Kernel</h2><p>This script will build the kernel, modules, device tree binaries and copy them to the deploy directory.</p>
<h2 id="Mainline"><a href="#Mainline" class="headerlink" title="Mainline"></a>Mainline</h2><p>Download:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#~/</span><br>git <span class="hljs-built_in">clone</span> https://github.com/RobertCNelson/bb-kernel<br><span class="hljs-built_in">cd</span> bb-kernel/<br></code></pre></td></tr></table></figure>
<h2 id="For-am33x-v4-14-Longterm-4-14-x"><a href="#For-am33x-v4-14-Longterm-4-14-x" class="headerlink" title="For am33x-v4.14 (Longterm 4.14.x):"></a>For am33x-v4.14 (Longterm 4.14.x):</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#user@localhost:~/bb-kernel$</span><br>git checkout origin/am33x-v4.14 -b tmp<br></code></pre></td></tr></table></figure>
<h2 id="For-am33x-rt-v4-14-Longterm-4-14-x-Real-Time-Linux"><a href="#For-am33x-rt-v4-14-Longterm-4-14-x-Real-Time-Linux" class="headerlink" title="For am33x-rt-v4.14 (Longterm 4.14.x + Real-Time Linux):"></a>For am33x-rt-v4.14 (Longterm 4.14.x + Real-Time Linux):</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#user@localhost:~/bb-kernel$</span><br>git checkout origin/am33x-rt-v4.14 -b tmp<br></code></pre></td></tr></table></figure>
<h2 id="For-am33x-v4-19-Longterm-4-19-x"><a href="#For-am33x-v4-19-Longterm-4-19-x" class="headerlink" title="For am33x-v4.19 (Longterm 4.19.x):"></a>For am33x-v4.19 (Longterm 4.19.x):</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#user@localhost:~/bb-kernel$</span><br>git checkout origin/am33x-v4.19 -b tmp<br></code></pre></td></tr></table></figure>
<h2 id="For-am33x-rt-v4-19-Longterm-4-19-x-Real-Time-Linux"><a href="#For-am33x-rt-v4-19-Longterm-4-19-x-Real-Time-Linux" class="headerlink" title="For am33x-rt-v4.19 (Longterm 4.19.x + Real-Time Linux):"></a>For am33x-rt-v4.19 (Longterm 4.19.x + Real-Time Linux):</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#user@localhost:~/bb-kernel$</span><br>git checkout origin/am33x-rt-v4.19 -b tmp<br></code></pre></td></tr></table></figure>
<h2 id="For-am33x-v5-4-Longterm-5-4-x"><a href="#For-am33x-v5-4-Longterm-5-4-x" class="headerlink" title="For am33x-v5.4 (Longterm 5.4.x):"></a>For am33x-v5.4 (Longterm 5.4.x):</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#user@localhost:~/bb-kernel$</span><br>git checkout origin/am33x-v5.4 -b tmp<br></code></pre></td></tr></table></figure>
<h2 id="For-am33x-rt-v5-4-Longterm-5-4-x-Real-Time-Linux"><a href="#For-am33x-rt-v5-4-Longterm-5-4-x-Real-Time-Linux" class="headerlink" title="For am33x-rt-v5.4 (Longterm 5.4.x + Real-Time Linux):"></a>For am33x-rt-v5.4 (Longterm 5.4.x + Real-Time Linux):</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#user@localhost:~/bb-kernel$</span><br>git checkout origin/am33x-rt-v5.4 -b tmp<br></code></pre></td></tr></table></figure>
<h2 id="For-am33x-v5-10-Longterm-5-10-x"><a href="#For-am33x-v5-10-Longterm-5-10-x" class="headerlink" title="For am33x-v5.10 (Longterm 5.10.x):"></a>For am33x-v5.10 (Longterm 5.10.x):</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#user@localhost:~/bb-kernel$</span><br>git checkout origin/am33x-v5.10 -b tmp<br></code></pre></td></tr></table></figure>
<h2 id="For-am33x-rt-v5-10-Longterm-5-10-x-Real-Time-Linux"><a href="#For-am33x-rt-v5-10-Longterm-5-10-x-Real-Time-Linux" class="headerlink" title="For am33x-rt-v5.10 (Longterm 5.10.x + Real-Time Linux):"></a>For am33x-rt-v5.10 (Longterm 5.10.x + Real-Time Linux):</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#user@localhost:~/bb-kernel$</span><br>git checkout origin/am33x-rt-v5.10 -b tmp<br></code></pre></td></tr></table></figure>
<h2 id="Build"><a href="#Build" class="headerlink" title="Build:"></a>Build:</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#user@localhost:~/bb-kernel$</span><br>./build_kernel.sh<br></code></pre></td></tr></table></figure>

<h2 id="TI-BSP"><a href="#TI-BSP" class="headerlink" title="TI BSP"></a>TI BSP</h2><h3 id="Download"><a href="#Download" class="headerlink" title="Download:"></a>Download:</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#~/</span><br>git <span class="hljs-built_in">clone</span> https://github.com/RobertCNelson/ti-linux-kernel-dev.git<br><span class="hljs-built_in">cd</span> ti-linux-kernel-dev/<br></code></pre></td></tr></table></figure>
<h2 id="For-TI-v4-14-x"><a href="#For-TI-v4-14-x" class="headerlink" title="For TI v4.14.x:"></a>For TI v4.14.x:</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#~/ti-linux-kernel-dev/</span><br>git checkout origin/ti-linux-4.14.y -b tmp<br></code></pre></td></tr></table></figure>
<h2 id="For-TI-v4-14-x-Real-Time"><a href="#For-TI-v4-14-x-Real-Time" class="headerlink" title="For TI v4.14.x: Real-Time"></a>For TI v4.14.x: Real-Time</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#~/ti-linux-kernel-dev/</span><br>git checkout origin/ti-linux-rt-4.14.y -b tmp<br></code></pre></td></tr></table></figure>
<h2 id="For-TI-v4-19-x"><a href="#For-TI-v4-19-x" class="headerlink" title="For TI v4.19.x:"></a>For TI v4.19.x:</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#~/ti-linux-kernel-dev/</span><br>git checkout origin/ti-linux-4.19.y -b tmp<br></code></pre></td></tr></table></figure>
<h2 id="For-TI-v4-19-x-Real-Time"><a href="#For-TI-v4-19-x-Real-Time" class="headerlink" title="For TI v4.19.x: Real-Time"></a>For TI v4.19.x: Real-Time</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#~/ti-linux-kernel-dev/</span><br>git checkout origin/ti-linux-rt-4.19.y -b tmp<br></code></pre></td></tr></table></figure>
<h2 id="For-TI-v5-4-x"><a href="#For-TI-v5-4-x" class="headerlink" title="For TI v5.4.x:"></a>For TI v5.4.x:</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#~/ti-linux-kernel-dev/</span><br>git checkout origin/ti-linux-5.4.y -b tmp<br></code></pre></td></tr></table></figure>
<h2 id="For-TI-v5-4-x-Real-Time"><a href="#For-TI-v5-4-x-Real-Time" class="headerlink" title="For TI v5.4.x: Real-Time"></a>For TI v5.4.x: Real-Time</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#~/ti-linux-kernel-dev/</span><br>git checkout origin/ti-linux-rt-5.4.y -b tmp<br></code></pre></td></tr></table></figure>
<h2 id="For-TI-v5-10-x"><a href="#For-TI-v5-10-x" class="headerlink" title="For TI v5.10.x:"></a>For TI v5.10.x:</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#~/ti-linux-kernel-dev/</span><br>git checkout origin/ti-linux-5.10.y -b tmp<br></code></pre></td></tr></table></figure>
<h2 id="For-TI-v5-10-x-Real-Time"><a href="#For-TI-v5-10-x-Real-Time" class="headerlink" title="For TI v5.10.x: Real-Time"></a>For TI v5.10.x: Real-Time</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#~/ti-linux-kernel-dev/</span><br>git checkout origin/ti-linux-rt-5.10.y -b tmp<br></code></pre></td></tr></table></figure>
<h2 id="Build-1"><a href="#Build-1" class="headerlink" title="Build:"></a>Build:</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#user@localhost:~/ti-linux-kernel-dev$</span><br>./build_kernel.sh<br></code></pre></td></tr></table></figure>

<h2 id="Root-File-System"><a href="#Root-File-System" class="headerlink" title="Root File System"></a>Root File System</h2><h3 id="Debian-10"><a href="#Debian-10" class="headerlink" title="Debian 10"></a>Debian 10</h3><p>User    Password<br>debian    temppwd<br>root    root</p>
<h3 id="Download-1"><a href="#Download-1" class="headerlink" title="Download:"></a>Download:</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#user@localhost:~$</span><br>wget -c https://rcn-ee.com/rootfs/eewiki/minfs/debian-10.10-minimal-armhf-2021-06-20.tar.xz<br></code></pre></td></tr></table></figure>
<h3 id="Verify"><a href="#Verify" class="headerlink" title="Verify:"></a>Verify:</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#user@localhost:~$</span><br>sha256sum debian-10.10-minimal-armhf-2021-06-20.tar.xz<br><span class="hljs-comment">#sha256sum output:</span><br>058544586900f7aed044970380cc45bd1b9e1891f9bc0bc3119dad248b37a00a  debian-10.10-minimal-armhf-2021-06-20.tar.xz<br></code></pre></td></tr></table></figure>
<h3 id="Extract"><a href="#Extract" class="headerlink" title="Extract:"></a>Extract:</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#user@localhost:~$</span><br>tar xf debian-10.10-minimal-armhf-2021-06-20.tar.xz<br></code></pre></td></tr></table></figure>
<p>Ubuntu 20.04 LTS<br>User    Password<br>ubuntu    temppwd</p>
<h3 id="Download-2"><a href="#Download-2" class="headerlink" title="Download:"></a>Download:</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#user@localhost:~$</span><br>wget -c https://rcn-ee.com/rootfs/eewiki/minfs/ubuntu-20.04.2-minimal-armhf-2021-06-20.tar.xz<br></code></pre></td></tr></table></figure>
<h3 id="Verify-1"><a href="#Verify-1" class="headerlink" title="Verify:"></a>Verify:</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#user@localhost:~$</span><br>sha256sum ubuntu-20.04.2-minimal-armhf-2021-06-20.tar.xz<br><span class="hljs-comment">#sha256sum output:</span><br>6cc5242251fe6af00268fba09cefecc5f5708db76bd24fc525202905daeb6359  ubuntu-20.04.2-minimal-armhf-2021-06-20.tar.xz<br></code></pre></td></tr></table></figure>
<h3 id="Extract-1"><a href="#Extract-1" class="headerlink" title="Extract:"></a>Extract:</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#user@localhost:~$</span><br>tar xf ubuntu-20.04.2-minimal-armhf-2021-06-20.tar.xz<br></code></pre></td></tr></table></figure>
<h3 id="Setup-microSD-card"><a href="#Setup-microSD-card" class="headerlink" title="Setup microSD card"></a>Setup microSD card</h3><p>We need to access the External Drive to be utilized by the target device. Run lsblk to help figure out what linux device has been reserved for your External Drive.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Example: for DISK=/dev/sdX</span><br>lsblk<br>NAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT<br>sda      8:0    0 465.8G  0 disk<br>├─sda1   8:1    0   512M  0 part /boot/efi<br>└─sda2   8:2    0 465.3G  0 part /                &lt;- Development Machine Root Partition<br>sdb      8:16   1   962M  0 disk                  &lt;- microSD/USB Storage Device<br>└─sdb1   8:17   1   961M  0 part                  &lt;- microSD/USB Storage Partition<br><span class="hljs-comment">#Thus you would use:</span><br><span class="hljs-built_in">export</span> DISK=/dev/sdb<br><span class="hljs-comment">#Example: for DISK=/dev/mmcblkX</span><br>lsblk<br>NAME      MAJ:MIN   RM   SIZE RO TYPE MOUNTPOINT<br>sda         8:0      0 465.8G  0 disk<br>├─sda1      8:1      0   512M  0 part /boot/efi<br>└─sda2      8:2      0 465.3G  0 part /                &lt;- Development Machine Root Partition<br>mmcblk0     179:0    0   962M  0 disk                  &lt;- microSD/USB Storage Device<br>└─mmcblk0p1 179:1    0   961M  0 part                  &lt;- microSD/USB Storage Partition<br><span class="hljs-comment">#Thus you would use:</span><br><span class="hljs-built_in">export</span> DISK=/dev/mmcblk0<br>Erase partition table/labels on microSD card:<br><br>sudo dd <span class="hljs-keyword">if</span>=/dev/zero of=<span class="hljs-variable">$&#123;DISK&#125;</span> bs=1M count=10<br></code></pre></td></tr></table></figure>
<h3 id="Install-Bootloader"><a href="#Install-Bootloader" class="headerlink" title="Install Bootloader:"></a>Install Bootloader:</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#user@localhost:~$</span><br>sudo dd <span class="hljs-keyword">if</span>=./u-boot/MLO of=<span class="hljs-variable">$&#123;DISK&#125;</span> count=1 seek=1 bs=128k<br>sudo dd <span class="hljs-keyword">if</span>=./u-boot/u-boot.img of=<span class="hljs-variable">$&#123;DISK&#125;</span> count=2 seek=1 bs=384k<br></code></pre></td></tr></table></figure>
<h3 id="Create-Partition-Layout"><a href="#Create-Partition-Layout" class="headerlink" title="Create Partition Layout:"></a>Create Partition Layout:</h3><p>With util-linux v2.26, sfdisk was rewritten and is now based on libfdisk.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#Check the version of sfdisk installed on your pc is atleast 2.26.x or newer.</span><br>sudo sfdisk --version<br><span class="hljs-comment">#Example Output</span><br>sfdisk from util-linux 2.27.1<br><span class="hljs-comment">#sfdisk &gt;= 2.26.x</span><br>sudo sfdisk <span class="hljs-variable">$&#123;DISK&#125;</span> &lt;&lt;-<span class="hljs-string">__EOF__</span><br><span class="hljs-string">4M,,L,*</span><br><span class="hljs-string">__EOF__</span><br></code></pre></td></tr></table></figure>
<h3 id="Format-Partition"><a href="#Format-Partition" class="headerlink" title="Format Partition:"></a>Format Partition:</h3><p>With mkfs.ext4 1.43, we need to make sure metadata_csum and 64bit ext4 features are disabled.<br>As the version of U-Boot needed for this target CAN NOT correctly handle reading files with these newer ext4 options.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#mkfs.ext4 -V</span><br>sudo mkfs.ext4 -V<br>mke2fs 1.43-WIP (15-Mar-2016)<br>        Using EXT2FS Library version 1.43-WIP<br><span class="hljs-comment">#mkfs.ext4 &gt;= 1.43</span><br><span class="hljs-keyword">for</span>: DISK=/dev/mmcblkX<br>sudo mkfs.ext4 -L rootfs -O ^metadata_csum,^64bit <span class="hljs-variable">$&#123;DISK&#125;</span>p1<br><br><span class="hljs-keyword">for</span>: DISK=/dev/sdX<br>sudo mkfs.ext4 -L rootfs -O ^metadata_csum,^64bit <span class="hljs-variable">$&#123;DISK&#125;</span>1<br></code></pre></td></tr></table></figure>
<h3 id="Mount-Partition"><a href="#Mount-Partition" class="headerlink" title="Mount Partition:"></a>Mount Partition:</h3><p><strong>On most systems these partitions may be auto-mounted…</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo mkdir -p /media/rootfs/<br> <br><span class="hljs-keyword">for</span>: DISK=/dev/mmcblkX<br>sudo mount <span class="hljs-variable">$&#123;DISK&#125;</span>p1 /media/rootfs/<br> <br><span class="hljs-keyword">for</span>: DISK=/dev/sdX<br>sudo mount <span class="hljs-variable">$&#123;DISK&#125;</span>1 /media/rootfs/<br></code></pre></td></tr></table></figure>

<h3 id="Backup-Bootloader"><a href="#Backup-Bootloader" class="headerlink" title="Backup Bootloader"></a>Backup Bootloader</h3><p>This version of MLO/u-boot.img will be used on the “eMMC” flasher script on this page.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#~/</span><br>sudo mkdir -p /media/rootfs/opt/backup/uboot/<br>sudo cp -v ./u-boot/MLO /media/rootfs/opt/backup/uboot/<br>sudo cp -v ./u-boot/u-boot.img /media/rootfs/opt/backup/uboot/<br></code></pre></td></tr></table></figure>

<h3 id="Install-Kernel-and-Root-File-System"><a href="#Install-Kernel-and-Root-File-System" class="headerlink" title="Install Kernel and Root File System"></a>Install Kernel and Root File System</h3><p>To help new users, since the kernel version can change on a daily basis. The kernel building scripts listed on this page will now give you a hint of what kernel version was built.</p>
<hr>
<p>Script Complete<br>eewiki.net: [user@localhost:~$ export kernel_version=5.X.Y-Z]</p>
<hr>
<p>Copy and paste that “export kernel_version=5.X.Y-Z” exactly as shown in your own build/desktop environment and hit enter to create an environment variable to be used later.</p>
<p>export kernel_version=5.X.Y-Z<br>Copy Root File System</p>
<h4 id="Debian-Root-File-System-user-localhost"><a href="#Debian-Root-File-System-user-localhost" class="headerlink" title="Debian; Root File System: user@localhost:~$"></a>Debian; Root File System: user@localhost:~$</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo tar xfvp ./debian-*-*-armhf-*/armhf-rootfs-*.tar -C /media/rootfs/<br>sync<br>sudo chown root:root /media/rootfs/<br>sudo chmod 755 /media/rootfs/<br></code></pre></td></tr></table></figure>

<h4 id="Ubuntu-Root-File-System-user-localhost"><a href="#Ubuntu-Root-File-System-user-localhost" class="headerlink" title="Ubuntu; Root File System: user@localhost:~$"></a>Ubuntu; Root File System: user@localhost:~$</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo tar xfvp ./ubuntu-*-*-armhf-*/armhf-rootfs-*.tar -C /media/rootfs/<br>sync<br>sudo chown root:root /media/rootfs/<br>sudo chmod 755 /media/rootfs/<br></code></pre></td></tr></table></figure>

<h3 id="Set-uname-r-in-boot-uEnv-txt"><a href="#Set-uname-r-in-boot-uEnv-txt" class="headerlink" title="Set uname_r in /boot/uEnv.txt"></a>Set uname_r in /boot/uEnv.txt</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#user@localhost:~$</span><br>sudo sh -c <span class="hljs-string">&quot;echo &#x27;uname_r=<span class="hljs-variable">$&#123;kernel_version&#125;</span>&#x27; &gt;&gt; /media/rootfs/boot/uEnv.txt&quot;</span><br></code></pre></td></tr></table></figure>

<h3 id="Copy-Kernel-Image"><a href="#Copy-Kernel-Image" class="headerlink" title="Copy Kernel Image"></a>Copy Kernel Image</h3><p>Kernel Image:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#user@localhost:~$</span><br>sudo cp -v ./bb-kernel/deploy/<span class="hljs-variable">$&#123;kernel_version&#125;</span>.zImage /media/rootfs/boot/vmlinuz-<span class="hljs-variable">$&#123;kernel_version&#125;</span><br></code></pre></td></tr></table></figure>

<h3 id="Copy-Kernel-Device-Tree-Binaries"><a href="#Copy-Kernel-Device-Tree-Binaries" class="headerlink" title="Copy Kernel Device Tree Binaries"></a>Copy Kernel Device Tree Binaries</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#user@localhost:~$</span><br>sudo mkdir -p /media/rootfs/boot/dtbs/<span class="hljs-variable">$&#123;kernel_version&#125;</span>/<br>sudo tar xfv ./bb-kernel/deploy/<span class="hljs-variable">$&#123;kernel_version&#125;</span>-dtbs.tar.gz -C /media/rootfs/boot/dtbs/<span class="hljs-variable">$&#123;kernel_version&#125;</span>/<br></code></pre></td></tr></table></figure>

<h3 id="Copy-Kernel-Modules"><a href="#Copy-Kernel-Modules" class="headerlink" title="Copy Kernel Modules"></a>Copy Kernel Modules</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#user@localhost:~$</span><br>sudo tar xfv ./bb-kernel/deploy/<span class="hljs-variable">$&#123;kernel_version&#125;</span>-modules.tar.gz -C /media/rootfs/<br></code></pre></td></tr></table></figure>

<h3 id="File-Systems-Table-etc-fstab"><a href="#File-Systems-Table-etc-fstab" class="headerlink" title="File Systems Table (/etc/fstab)"></a>File Systems Table (/etc/fstab)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#user@localhost:~/$</span><br>sudo sh -c <span class="hljs-string">&quot;echo &#x27;/dev/mmcblk0p1  /  auto  errors=remount-ro  0  1&#x27; &gt;&gt; /media/rootfs/etc/fstab&quot;</span><br></code></pre></td></tr></table></figure>

<h3 id="Networking"><a href="#Networking" class="headerlink" title="Networking"></a>Networking</h3><p>Edit: /etc/network/interfaces</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo nano /media/rootfs/etc/network/interfaces<br>Add:<br><br><span class="hljs-comment">#/etc/network/interfaces</span><br>auto lo<br>iface lo inet loopback<br> <br>auto eth0<br>iface eth0 inet dhcp<br>Remove microSD/SD card<br>sync<br>sudo umount /media/rootfs<br></code></pre></td></tr></table></figure>

<h3 id="HDMI"><a href="#HDMI" class="headerlink" title="HDMI"></a>HDMI</h3><p>This sections assumes you have already installed your favorite xorg based window manager, such as lxde, xfce, kde, gnome, etc… These are packages that need to be installed on top of your selected windows manager and an xorg.conf needed to correctly setup the video interface.<br>Note: If the cursor doesn’t show up right away, first hit: ctlr-alt-f1 then: ctrl-alt-f7 after which it ‘should’ show up…<br>Make sure to install, fbdev driver and xrandr utilities:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo apt update<br>sudo apt install read-edid xserver-xorg-video-fbdev x11-xserver-utils<br><span class="hljs-comment">#/etc/X11/xorg.conf</span><br>Section <span class="hljs-string">&quot;Monitor&quot;</span><br>        Identifier      <span class="hljs-string">&quot;Builtin Default Monitor&quot;</span><br>EndSection<br>Section <span class="hljs-string">&quot;Device&quot;</span><br>        Identifier      <span class="hljs-string">&quot;Builtin Default fbdev Device 0&quot;</span><br>        Driver          <span class="hljs-string">&quot;fbdev&quot;</span><br>EndSection<br>Section <span class="hljs-string">&quot;Screen&quot;</span><br>        Identifier      <span class="hljs-string">&quot;Builtin Default fbdev Screen 0&quot;</span><br>        Device          <span class="hljs-string">&quot;Builtin Default fbdev Device 0&quot;</span><br>        Monitor         <span class="hljs-string">&quot;Builtin Default Monitor&quot;</span><br>EndSection<br>Section <span class="hljs-string">&quot;ServerLayout&quot;</span><br>        Identifier      <span class="hljs-string">&quot;Builtin Default Layout&quot;</span><br>        Screen          <span class="hljs-string">&quot;Builtin Default fbdev Screen 0&quot;</span><br>EndSection<br>xrandr:<br><br>xrandr<br>xrandr --output HDMI-0 --mode 1024x768 --rate 60<br>xrandr (over serial/ssh)<br><br>xrandr -display :0.0 -q<br>xrandr -display :0.0 --output HDMI-0 --mode 1024x768 --rate 60<br></code></pre></td></tr></table></figure>

<h3 id="eMMC"><a href="#eMMC" class="headerlink" title="eMMC"></a>eMMC</h3><p>Script to copy your microSD card to eMMC: (this will need these packages installed: initramfs-tools dosfstools rsync)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget https://raw.githubusercontent.com/RobertCNelson/boot-scripts/master/tools/eMMC/bbb-eMMC-flasher-eewiki-ext4.sh<br>chmod +x bbb-eMMC-flasher-eewiki-ext4.sh<br>sudo /bin/bash ./bbb-eMMC-flasher-eewiki-ext4.sh<br></code></pre></td></tr></table></figure>

<h3 id="U-Boot-Overlays"><a href="#U-Boot-Overlays" class="headerlink" title="U-Boot Overlays"></a>U-Boot Overlays</h3><p>Full Documentation: [readme|<a target="_blank" rel="noopener" href="https://elinux.org/Beagleboard:BeagleBoneBlack_Debian#U-Boot_Overlays]">https://elinux.org/Beagleboard:BeagleBoneBlack_Debian#U-Boot_Overlays]</a><br>Any issues:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#Any issues run:</span><br>sudo /opt/scripts/tools/version.sh<br>Enable:<br><br><span class="hljs-comment">#/boot/uEnv.txt</span><br>enable_uboot_overlays=1<br>To Disable: eMMC:<br><br><span class="hljs-comment">#/boot/uEnv.txt</span><br>disable_uboot_overlay_emmc=1<br>To Disable: HDMI VIDEO &amp; AUDIO:<br><br><span class="hljs-comment">#/boot/uEnv.txt</span><br>disable_uboot_overlay_video=1<br>To Disable: HDMI AUDIO:<br><br><span class="hljs-comment">#/boot/uEnv.txt</span><br>disable_uboot_overlay_audio=1<br>To Disable: WL1835:<br><br><span class="hljs-comment">#/boot/uEnv.txt</span><br>disable_uboot_overlay_wireless=1<br>To Disable: BB-ADC:<br><br><span class="hljs-comment">#/boot/uEnv.txt</span><br>disable_uboot_overlay_adc=1<br>U-Boot: override detected capes<br><br><span class="hljs-comment">#/boot/uEnv.txt</span><br>uboot_overlay_addr0=&lt;file0&gt;.dtbo<br>uboot_overlay_addr1=&lt;file1&gt;.dtbo<br>uboot_overlay_addr2=&lt;file2&gt;.dtbo<br>uboot_overlay_addr3=&lt;file3&gt;.dtbo<br>U-Boot: <span class="hljs-built_in">disable</span> auto-loading of detected capes<br><br><span class="hljs-comment">#/boot/uEnv.txt</span><br>disable_uboot_overlay_addr0=1<br>disable_uboot_overlay_addr1=1<br>disable_uboot_overlay_addr2=1<br>disable_uboot_overlay_addr3=1<br>U-Boot: load 4 more un-detected capes<br><br><span class="hljs-comment">#/boot/uEnv.txt</span><br>uboot_overlay_addr4=&lt;file4&gt;.dtbo<br>uboot_overlay_addr5=&lt;file5&gt;.dtbo<br>uboot_overlay_addr6=&lt;file6&gt;.dtbo<br>uboot_overlay_addr7=&lt;file7&gt;.dtbo<br>U-Boot: PRU Options (v4.14.x-ti)<br><br><span class="hljs-comment">#/boot/uEnv.txt</span><br>uboot_overlay_pru=/lib/firmware/AM335X-PRU-RPROC-4-14-TI-00A0.dtbo<br>U-Boot: PRU Options (v4.19.x-ti)<br><br><span class="hljs-comment">#/boot/uEnv.txt</span><br>uboot_overlay_pru=/lib/firmware/AM335X-PRU-RPROC-4-19-TI-00A0.dtbo<br>U-Boot: PRU Options<br><br><span class="hljs-comment">#/boot/uEnv.txt</span><br>uboot_overlay_pru=/lib/firmware/AM335X-PRU-UIO-00A0.dtbo<br>U-Boot: Cape Universal<br><br><span class="hljs-comment">#/boot/uEnv.txt</span><br>enable_uboot_cape_universal=1<br></code></pre></td></tr></table></figure>

<div id="paginator"></div></div><div id="post-footer"><hr><a href="/2021/08/16/docker-notes/">Docker笔记 Next →</a><hr></div><div id="bottom-btn"><a id="to-index" href="#post-index" title="index">≡</a><a id="to-top" href="#post-title" title="to top">∧</a></div><div id="Valine"></div><script>new Valine({
 el: '#Valine'
 , appId: ''
 , appKey: ''
 , placeholder: '此条评论委托企鹅物流发送'
})</script></div></article><aside><div id="about"><!--a(href=config.root)#logo--><!--  img(src=asideLogo, alt="Logo")--><h1 id="Dr"><a href="/">Kenny</a></h1><section id="total"><a id="total-archives" href="/archives"><span class="total-title">Archives Total:</span><span class="total-number">4</span></a><div id="total-tags"><span class="total-title">Tags:</span><span class="total-number">4</span></div><div id="total-categories"><span class="total-title">Categories:</span><span class="total-number">4</span></div></section></div><div id="aside-block"><h1>INDEX</h1><div id="post-index"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Getting-started-with-the-Beaglebone-Black"><span class="toc-number">1.</span> <span class="toc-text">Getting started with the Beaglebone Black</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Basic-Requirements"><span class="toc-number">1.1.</span> <span class="toc-text">Basic Requirements</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ARM-Cross-Compiler-GCC"><span class="toc-number">1.2.</span> <span class="toc-text">ARM Cross Compiler:GCC</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Test-Cross-Compiler"><span class="toc-number">1.2.1.</span> <span class="toc-text">Test Cross Compiler:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bootloader-U-Boot"><span class="toc-number">1.3.</span> <span class="toc-text">Bootloader:U-Boot</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux-Kernel"><span class="toc-number">1.4.</span> <span class="toc-text">Linux Kernel</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Mainline"><span class="toc-number">1.5.</span> <span class="toc-text">Mainline</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#For-am33x-v4-14-Longterm-4-14-x"><span class="toc-number">1.6.</span> <span class="toc-text">For am33x-v4.14 (Longterm 4.14.x):</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#For-am33x-rt-v4-14-Longterm-4-14-x-Real-Time-Linux"><span class="toc-number">1.7.</span> <span class="toc-text">For am33x-rt-v4.14 (Longterm 4.14.x + Real-Time Linux):</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#For-am33x-v4-19-Longterm-4-19-x"><span class="toc-number">1.8.</span> <span class="toc-text">For am33x-v4.19 (Longterm 4.19.x):</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#For-am33x-rt-v4-19-Longterm-4-19-x-Real-Time-Linux"><span class="toc-number">1.9.</span> <span class="toc-text">For am33x-rt-v4.19 (Longterm 4.19.x + Real-Time Linux):</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#For-am33x-v5-4-Longterm-5-4-x"><span class="toc-number">1.10.</span> <span class="toc-text">For am33x-v5.4 (Longterm 5.4.x):</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#For-am33x-rt-v5-4-Longterm-5-4-x-Real-Time-Linux"><span class="toc-number">1.11.</span> <span class="toc-text">For am33x-rt-v5.4 (Longterm 5.4.x + Real-Time Linux):</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#For-am33x-v5-10-Longterm-5-10-x"><span class="toc-number">1.12.</span> <span class="toc-text">For am33x-v5.10 (Longterm 5.10.x):</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#For-am33x-rt-v5-10-Longterm-5-10-x-Real-Time-Linux"><span class="toc-number">1.13.</span> <span class="toc-text">For am33x-rt-v5.10 (Longterm 5.10.x + Real-Time Linux):</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Build"><span class="toc-number">1.14.</span> <span class="toc-text">Build:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TI-BSP"><span class="toc-number">1.15.</span> <span class="toc-text">TI BSP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Download"><span class="toc-number">1.15.1.</span> <span class="toc-text">Download:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#For-TI-v4-14-x"><span class="toc-number">1.16.</span> <span class="toc-text">For TI v4.14.x:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#For-TI-v4-14-x-Real-Time"><span class="toc-number">1.17.</span> <span class="toc-text">For TI v4.14.x: Real-Time</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#For-TI-v4-19-x"><span class="toc-number">1.18.</span> <span class="toc-text">For TI v4.19.x:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#For-TI-v4-19-x-Real-Time"><span class="toc-number">1.19.</span> <span class="toc-text">For TI v4.19.x: Real-Time</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#For-TI-v5-4-x"><span class="toc-number">1.20.</span> <span class="toc-text">For TI v5.4.x:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#For-TI-v5-4-x-Real-Time"><span class="toc-number">1.21.</span> <span class="toc-text">For TI v5.4.x: Real-Time</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#For-TI-v5-10-x"><span class="toc-number">1.22.</span> <span class="toc-text">For TI v5.10.x:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#For-TI-v5-10-x-Real-Time"><span class="toc-number">1.23.</span> <span class="toc-text">For TI v5.10.x: Real-Time</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Build-1"><span class="toc-number">1.24.</span> <span class="toc-text">Build:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Root-File-System"><span class="toc-number">1.25.</span> <span class="toc-text">Root File System</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Debian-10"><span class="toc-number">1.25.1.</span> <span class="toc-text">Debian 10</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Download-1"><span class="toc-number">1.25.2.</span> <span class="toc-text">Download:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Verify"><span class="toc-number">1.25.3.</span> <span class="toc-text">Verify:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Extract"><span class="toc-number">1.25.4.</span> <span class="toc-text">Extract:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Download-2"><span class="toc-number">1.25.5.</span> <span class="toc-text">Download:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Verify-1"><span class="toc-number">1.25.6.</span> <span class="toc-text">Verify:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Extract-1"><span class="toc-number">1.25.7.</span> <span class="toc-text">Extract:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Setup-microSD-card"><span class="toc-number">1.25.8.</span> <span class="toc-text">Setup microSD card</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Install-Bootloader"><span class="toc-number">1.25.9.</span> <span class="toc-text">Install Bootloader:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Create-Partition-Layout"><span class="toc-number">1.25.10.</span> <span class="toc-text">Create Partition Layout:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Format-Partition"><span class="toc-number">1.25.11.</span> <span class="toc-text">Format Partition:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Mount-Partition"><span class="toc-number">1.25.12.</span> <span class="toc-text">Mount Partition:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Backup-Bootloader"><span class="toc-number">1.25.13.</span> <span class="toc-text">Backup Bootloader</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Install-Kernel-and-Root-File-System"><span class="toc-number">1.25.14.</span> <span class="toc-text">Install Kernel and Root File System</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Debian-Root-File-System-user-localhost"><span class="toc-number">1.25.14.1.</span> <span class="toc-text">Debian; Root File System: user@localhost:~$</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ubuntu-Root-File-System-user-localhost"><span class="toc-number">1.25.14.2.</span> <span class="toc-text">Ubuntu; Root File System: user@localhost:~$</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Set-uname-r-in-boot-uEnv-txt"><span class="toc-number">1.25.15.</span> <span class="toc-text">Set uname_r in &#x2F;boot&#x2F;uEnv.txt</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Copy-Kernel-Image"><span class="toc-number">1.25.16.</span> <span class="toc-text">Copy Kernel Image</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Copy-Kernel-Device-Tree-Binaries"><span class="toc-number">1.25.17.</span> <span class="toc-text">Copy Kernel Device Tree Binaries</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Copy-Kernel-Modules"><span class="toc-number">1.25.18.</span> <span class="toc-text">Copy Kernel Modules</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#File-Systems-Table-etc-fstab"><span class="toc-number">1.25.19.</span> <span class="toc-text">File Systems Table (&#x2F;etc&#x2F;fstab)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Networking"><span class="toc-number">1.25.20.</span> <span class="toc-text">Networking</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HDMI"><span class="toc-number">1.25.21.</span> <span class="toc-text">HDMI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#eMMC"><span class="toc-number">1.25.22.</span> <span class="toc-text">eMMC</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#U-Boot-Overlays"><span class="toc-number">1.25.23.</span> <span class="toc-text">U-Boot Overlays</span></a></li></ol></li></ol></li></ol></div></div><footer><nobr><span class="text-title">©</span><span class="text-content">2017 to 2021</span></nobr><wbr><nobr><span class="text-title">Email</span><span class="text-content">ideask@outlook.com</span></nobr><wbr><wbr><nobr>Contact me&nbsp;<a href="mailto:ideask@outlook.com">Email&nbsp;</a></nobr><wbr><nobr>Follow me&nbsp;<a target="_blank" rel="noopener" href="https://github.com/ideask">Github&nbsp;</a></nobr><wbr><nobr>or&nbsp;<a target="_blank" rel="noopener" href="https://gitee.com/ideask">Gitee</a></nobr></footer></aside></main><canvas id="canvas-dust"></canvas><script src="/js/arknights.js"></script><script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script></body></html>