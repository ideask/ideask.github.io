<!DOCTYPE html><html lang="zh_CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Hexo博客搭建相关 | 妙妙屋</title><script src="https://cdn.bootcss.com/valine/1.4.4/Valine.min.js"></script><script src="https://cdn.bootcdn.net/ajax/libs/mermaid/8.11.0/mermaid.min.js"></script><script>mermaid.initialize({
  startOnLoad: true
  , theme: 'dark'
});</script><link rel="stylesheet" href="/css/arknights.css"><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/highlight.js/10.1.2/styles/atom-one-dark-reasonable.min.css"><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}</style><meta name="generator" content="Hexo 5.4.0"></head><body><header><nav><a href="/">主页</a><a href="/archives/">文章</a><a href="/about/">关于</a><a href="/contact/">联系</a></nav></header><main><article><div id="post-bg"><div id="post-title"><h1>Hexo博客搭建相关</h1><hr></div><div id="post-content"><h1 id="Getting-Started"><a href="#Getting-Started" class="headerlink" title="Getting Started"></a>Getting Started</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker pull spurin/hexo<br></code></pre></td></tr></table></figure>
<p>Create a new blog container, substitute domain.com for your domain and specify your blog location with -v target:/app, specify your git user and email address (for deployment):</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker create --name=ideask.github.io \<br>-e HEXO_SERVER_PORT=4000 \<br>-e GIT_USER=<span class="hljs-string">&quot;ideask&quot;</span> \<br>-e GIT_EMAIL=<span class="hljs-string">&quot;ideask@outlook.com&quot;</span> \<br>-v /blog/ideask.github.io:/app \<br>-p 4000:4000 \<br>spurin/hexo<br></code></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker start ideask.github.io<br></code></pre></td></tr></table></figure>
<h1 id="Accessing-the-container"><a href="#Accessing-the-container" class="headerlink" title="Accessing the container"></a>Accessing the container</h1><p>Should you wish to perform further configuration, i.e. installing custom themes, this should be viable from the app specific volume, either directly or via the container (changes to the app volume are persistent). Accessing the container -</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker <span class="hljs-built_in">exec</span> -it ideask.github.io bash<br>npm config <span class="hljs-built_in">set</span> registry https://registry.npm.taobao.org<br>yarn config <span class="hljs-built_in">set</span> registry <span class="hljs-string">&#x27;https://registry.npm.taobao.org&#x27;</span><br></code></pre></td></tr></table></figure>
<h1 id="Deployment-keys-for-use-with-Github-Gitlab"><a href="#Deployment-keys-for-use-with-Github-Gitlab" class="headerlink" title="Deployment keys for use with Github/Gitlab"></a>Deployment keys for use with Github/Gitlab</h1><p>Deployment keys are configured as part of the initial app configuration, see the .ssh directory within your app volume or, view the logs upon startup for the SSH public key</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker logs --follow ideask.github.io<br></code></pre></td></tr></table></figure>

<h1 id="Installing-a-theme"><a href="#Installing-a-theme" class="headerlink" title="Installing a theme"></a>Installing a theme</h1><p>Each theme will vary but for example, a theme such as Hueman, clone the repository to the themes directory within the app volume</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> /app<br>git <span class="hljs-built_in">clone</span> https://github.com/Yue-plus/hexo-theme-arknights.git themes/arknights<br></code></pre></td></tr></table></figure>

<h2 id="Update-config-yml-in-your-app-folder-and-change-theme-accordingly"><a href="#Update-config-yml-in-your-app-folder-and-change-theme-accordingly" class="headerlink" title="Update _config.yml in your app folder, and change theme accordingly"></a>Update _config.yml in your app folder, and change theme accordingly</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">theme: arknights<br></code></pre></td></tr></table></figure>

<h2 id="Install-the-environment"><a href="#Install-the-environment" class="headerlink" title="Install the environment"></a>Install the environment</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yarn add hexo-server hexo-browsersync hexo-renderer-pug hexo-renderer-sass hexo-renderer-ts<br></code></pre></td></tr></table></figure>

<h2 id="Exit-the-container"><a href="#Exit-the-container" class="headerlink" title="Exit the container"></a>Exit the container</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">exit</span><br></code></pre></td></tr></table></figure>
<h2 id="And-restart-the-container"><a href="#And-restart-the-container" class="headerlink" title="And restart the container"></a>And restart the container</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker restart ideask.github.io<br></code></pre></td></tr></table></figure>

<h1 id="Accessing-Hexo"><a href="#Accessing-Hexo" class="headerlink" title="Accessing Hexo"></a>Accessing Hexo</h1><p>Access the default hexo blog interface at http://&lt; ip_address &gt;:4000</p>
<h1 id="Accessing-Hexo-Admin"><a href="#Accessing-Hexo-Admin" class="headerlink" title="Accessing Hexo-Admin"></a>Accessing Hexo-Admin</h1><p>Access Hexo-Admin at http://&lt; ip_address &gt;:4000/admin</p>
<h1 id="Generating-Content"><a href="#Generating-Content" class="headerlink" title="Generating Content"></a>Generating Content</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker <span class="hljs-built_in">exec</span> -it ideask.github.io hexo generate<br></code></pre></td></tr></table></figure>

<h1 id="New-post"><a href="#New-post" class="headerlink" title="New post"></a>New post</h1><h2 id="Example"><a href="#Example" class="headerlink" title="Example:"></a>Example:</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">---<br>title: <span class="hljs-string">&#x27;Hello World !&#x27;</span><br>date: 2020-04-15 21:54:02<br>tags: code<br>category: Example<br>---<br></code></pre></td></tr></table></figure>
<h1 id="New-page"><a href="#New-page" class="headerlink" title="New page"></a>New page</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo new page <span class="hljs-string">&#x27;about&#x27;</span><br>vi <span class="hljs-built_in">source</span>/about/index.md<br><br>vi _config.yml<br>-&gt; <br>menu:<br>  About: /about<br></code></pre></td></tr></table></figure>
<h1 id="Deploying-Generated-Content"><a href="#Deploying-Generated-Content" class="headerlink" title="Deploying Generated Content"></a>Deploying Generated Content</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker <span class="hljs-built_in">exec</span> -it ideask.github.io hexo deploy<br></code></pre></td></tr></table></figure>
<h1 id="Adding-hexo-plugins"><a href="#Adding-hexo-plugins" class="headerlink" title="Adding hexo plugins"></a>Adding hexo plugins</h1><p>If you wish to add specific hexo plugins, add them to a requirements.txt file to your app volume, for example (app/requirements.txt) -</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo-generator-json-content<br></code></pre></td></tr></table></figure>
<div id="paginator"></div></div><div id="post-footer"><hr><a href="/2021/08/16/ubuntu-server-env-build/">← Prev Ubuntu服务器环境搭建</a><hr></div><div id="bottom-btn"><a id="to-index" href="#post-index" title="index">≡</a><a id="to-top" href="#post-title" title="to top">∧</a></div><div id="Valine"></div><script>new Valine({
 el: '#Valine'
 , appId: ''
 , appKey: ''
 , placeholder: '此条评论委托企鹅物流发送'
})</script></div></article><aside><div id="about"><!--a(href=config.root)#logo--><!--  img(src=asideLogo, alt="Logo")--><h1 id="Dr"><a href="/">Kenny</a></h1><section id="total"><a id="total-archives" href="/archives"><span class="total-title">Archives Total:</span><span class="total-number">4</span></a><div id="total-tags"><span class="total-title">Tags:</span><span class="total-number">4</span></div><div id="total-categories"><span class="total-title">Categories:</span><span class="total-number">4</span></div></section></div><div id="aside-block"><h1>INDEX</h1><div id="post-index"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Getting-Started"><span class="toc-number">1.</span> <span class="toc-text">Getting Started</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Accessing-the-container"><span class="toc-number">2.</span> <span class="toc-text">Accessing the container</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Deployment-keys-for-use-with-Github-Gitlab"><span class="toc-number">3.</span> <span class="toc-text">Deployment keys for use with Github&#x2F;Gitlab</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Installing-a-theme"><span class="toc-number">4.</span> <span class="toc-text">Installing a theme</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Update-config-yml-in-your-app-folder-and-change-theme-accordingly"><span class="toc-number">4.1.</span> <span class="toc-text">Update _config.yml in your app folder, and change theme accordingly</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Install-the-environment"><span class="toc-number">4.2.</span> <span class="toc-text">Install the environment</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exit-the-container"><span class="toc-number">4.3.</span> <span class="toc-text">Exit the container</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#And-restart-the-container"><span class="toc-number">4.4.</span> <span class="toc-text">And restart the container</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Accessing-Hexo"><span class="toc-number">5.</span> <span class="toc-text">Accessing Hexo</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Accessing-Hexo-Admin"><span class="toc-number">6.</span> <span class="toc-text">Accessing Hexo-Admin</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Generating-Content"><span class="toc-number">7.</span> <span class="toc-text">Generating Content</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#New-post"><span class="toc-number">8.</span> <span class="toc-text">New post</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Example"><span class="toc-number">8.1.</span> <span class="toc-text">Example:</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#New-page"><span class="toc-number">9.</span> <span class="toc-text">New page</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Deploying-Generated-Content"><span class="toc-number">10.</span> <span class="toc-text">Deploying Generated Content</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Adding-hexo-plugins"><span class="toc-number">11.</span> <span class="toc-text">Adding hexo plugins</span></a></li></ol></div></div><footer><nobr><span class="text-title">©</span><span class="text-content">2017 to 2021</span></nobr><wbr><nobr><span class="text-title">Email</span><span class="text-content">ideask@outlook.com</span></nobr><wbr><wbr><nobr>Contact me&nbsp;<a href="mailto:ideask@outlook.com">Email&nbsp;</a></nobr><wbr><nobr>Follow me&nbsp;<a target="_blank" rel="noopener" href="https://github.com/ideask">Github&nbsp;</a></nobr><wbr><nobr>or&nbsp;<a target="_blank" rel="noopener" href="https://gitee.com/ideask">Gitee</a></nobr></footer></aside></main><canvas id="canvas-dust"></canvas><script src="/js/arknights.js"></script><script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script></body></html>